<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Authorize.net Accept UI Demo</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <h2>Payment Form</h2>
        <div id="paymentForm">
            <button class="btn btn-primary" onclick="sendPaymentDataToAnet()">Pay with Card</button>
        </div>
        <div id="paymentResponse"></div>
    </div>

    <script type="text/javascript" src="https://jstest.authorize.net/v1/Accept.js" charset="utf-8"></script>
    <script type="text/javascript">
        function sendPaymentDataToAnet() {
            var authData = {
                clientKey: "5FcB6WrfHGS76gHW3v7btBCE3HuuBuke9Pj96Ztfn5R32G5ep42vne7MCWZtAucY",
                apiLoginID: "5KP3u95bQpv"
            };

            var paymentData = {
                cardNumber: "4111111111111111", // Dummy card number - use a test card number
                month: "12",
                year: "2030",
                cardCode: "123",
                zip: "12345",
                fullName: "Test User"
            };

            var secureData = {
                authData: authData,
                cardData: paymentData
            };

            Accept.dispatchData(secureData, responseHandler);
        }

        function responseHandler(response) {
            if (response.messages.resultCode === "Error") {
                var i = 0;
                while (i < response.messages.message.length) {
                    console.log(response.messages.message[i].code + ": " + response.messages.message[i].text);
                    i = i + 1;
                }
            } else {
                paymentToken = response.opaqueData.dataDescriptor + " " + response.opaqueData.dataValue;
                document.getElementById("paymentResponse").innerHTML = "Payment token: " + paymentToken;
            }
        }
    </script>
</body>
</html>